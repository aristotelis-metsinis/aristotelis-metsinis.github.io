<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="el" lang="el">   
	<head>
		<title>Homepages of Aristotelis Metsinis...</title>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta name="description" content="Homepages of Aristotelis Metsinis: curriculum vitae, MSc. projects such as an article on GSM, Mathematical & Statistical topics, Java applets, miscellaneous web site links" />
		<meta name="keywords"    content="Homepages of Aristotelis Metsinis,curriculum vitae of Aristotelis Metsinis,cv of Aristotelis Metsinis,resume of Aristotelis Metsinis,Αριστοτέλης Μετσίνης,ΑΡΙΣΤΟΤΕΛΗΣ ΜΕΤΣΙΝΗΣ,Value Added Services,SMS,MMS,Frequency Planning,Base Stations Design,GSM,Cellular Radio,GSM article,Erlang's Loss Formula,Sample mean,Sample standard deviation,Skewness,Kurtosis,Least squares method,Chi-Squared statistics,Java Applets" />
		<meta name="author"      content="Aristotelis Metsinis" /> 

		<link rel="stylesheet" type="text/css" href="css/ccs_2.css" />
		<link rel="stylesheet" type="text/css" href="css/ccs_1.css" />

		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />
		<script type="text/javascript"> 
			if(top.location == self.location) 
			{ 
				top.location.href = 'index.html'+'?redirectedFrom=sql.html';
			}
		</script>
		
		<style type="text/css">
			.sc0 {
			}
		</style>  
		
		<!-- Include required JS files -->
		<script type="text/javascript" src="syntaxhighlighter/scripts/shCore.js"></script>
		<!--
			At least one brush, here we choose JS. You need to include a brush for every 
			language you want to highlight
		-->
		<script type="text/javascript" src="syntaxhighlighter/scripts/shBrushSql.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/scripts/shBrushPlain.js"></script>
		<script type="text/javascript" src="syntaxhighlighter/scripts/shBrushBash.js"></script>
		<!-- Include *at least* the core style and "eclipse" theme -->
		<link type="text/css" rel="stylesheet" href="syntaxhighlighter/styles/shCoreDefault.css"/>
		<link type="text/css" rel="stylesheet" href="syntaxhighlighter/styles/shThemeEclipse.css"/>
		<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
		<script type="text/javascript">SyntaxHighlighter.defaults['toolbar'] = false;SyntaxHighlighter.all();</script>						
	</head>
	<body>
		<br />
        <table width="100%" border="0" cellpadding="10">
	  		<tr>
    			<td>                
                	<p class="documentDescription">SQL Cheat Sheet</p>             
    				<div class="plain">			
       				 	<p>
                        	This page contains a sample of "general purpose" SQL script templates.
                      	</p>
		<br/>
		<p><u>Quick Index</u></p>
		<table border="0" cellpadding="0" cellspacing="0">
			<tbody>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#create_table">create table</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#create_table_index">create table index</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#create_unique_table_index">create unique table index</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#create_table_sequence">create table sequence</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#select_values_from_table">select values from table</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#update_table_values">update table values</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#insert_table_values">insert table values</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#add_table_column">add table column</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#alter_column_size">alter column size</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#alter_table_sequence_cache_size">alter table sequence cache size</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#delete_table_values">delete table values</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#drop_table">drop table</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#drop_table_column">drop table column</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#drop_index">drop index</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#drop_sequence">drop sequence</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#truncate_table">truncate table</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#show_db_jobs">show db jobs</a></li>
						</ul>
					</td>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#execute_PL_SQL_block">pl/sql block execution</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:255px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#show_long_running_queries">show long-running queries</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#SID_of_established_db_session">sid of established db session</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#show_db_sequences">show db sequences</a></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#TNSNAMES_ORA">tnsnames.ora</a></li>
						</ul>
					</td>
					<td style="width:225px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#connection_without_TNSNAMES_ORA">connection-string configuration</a></li>
						</ul>
					</td>
					<td colspan="3" style="width:513px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#load_data_onto_an_Oracle_Database">load data onto an Oracle Database</a></li>
						</ul>
					</td>
				</tr>				
				<tr>
					<td style="width:225px;">
						&nbsp;
					</td>
					<td style="width:225px;">
						&nbsp;
					</td>
					<td colspan="3" style="width:513px;">
						<ul>
							<li style="margin-left: 1.0pt;">
								<a href="#load_data_onto_an_Oracle_Database_script_for_cdr_upload">load data onto an Oracle Database | script for cdr upload</a></li>
						</ul>
					</td>
				</tr>								
			</tbody>
		</table>
		<br /><hr />							
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc0">
<u><a name="create_table">create table</a></u>
<pre class="brush: sql;">
CREATE TABLE &lt;table_name&gt; 
(    
    &lt;column_name_1&gt;     NUMBER              NOT NULL,  
    &lt;column_name_2&gt;     VARCHAR2( 15 )      NOT NULL,   
    &lt;column_name_3&gt;     VARCHAR2( 320 )     NOT NULL,           
    &lt;column_name_4&gt;     VARCHAR2( 20 ),
    &lt;column_name_5&gt;     DATE                DEFAULT SYSDATE     NOT NULL,     
    &lt;column_name_6&gt;     DATE,
    CONSTRAINT &lt;primary_key_name&gt;           PRIMARY KEY ( &lt;column_name_1&gt; )                   
)
</pre>
<u><a name="create_table_index">create table index</a></u>
<pre class="brush: sql;">
CREATE INDEX &lt;index_name&gt;
    ON &lt;table_name&gt; ( &lt;column_name&gt; )
</pre>
<u><a name="create_unique_table_index">create unique table index</a></u>
<pre class="brush: sql;">
CREATE UNIQUE INDEX &lt;index_name&gt; 
    ON &lt;table_name&gt; ( &lt;column_name&gt; )
</pre>
<u><a name="create_table_sequence">create table sequence</a></u>
<pre class="brush: sql;">
CREATE SEQUENCE &lt;sequence_name&gt; 
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;
</pre>
<pre class="brush: sql;">
CREATE SEQUENCE &lt;table_schema&gt;.&lt;sequence_name&gt;
    START WITH 1000
    MAXVALUE 999999999999999999999999999
    MINVALUE 1
    CYCLE
    NOCACHE
    NOORDER;
</pre>
<pre class="brush: sql;">    
CREATE SEQUENCE &lt;table_schema&gt;.&lt;sequence_name&gt;
    START WITH 1
    MAXVALUE 999999999999999999999999999
    MINVALUE 1
    CYCLE
    CACHE 100
    NOORDER;
</pre>    
<u><a name="select_values_from_table">select values from table</a></u>
<pre class="brush: sql;">   
SELECT * 
    FROM &lt;table_name&gt; 
    WHERE &lt;column_#1_name&gt; = '&lt;value_#1&gt;' AND &lt;column_#2_name&gt; = '&lt;value_#2&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt;, &lt;column_#3_name&gt; 
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE &lt;column_#2_name&gt; = '&lt;value_#2&gt;' AND &lt;column_#1_name&gt; LIKE '%&lt;value_#1&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt; 
    FROM &lt;table_name&gt; 
    WHERE &lt;column_#1_name&gt; NOT LIKE '&lt;value_#1&gt;%'
</pre> 
<pre class="brush: sql;"> 
SELECT ( floor( &lt;column_#1_name&gt; / 1024 ) || ',' || mod( &lt;column_#1_name&gt;, 1024 ) ) AS &lt;alias_#1_name&gt;,  
        to_char( &lt;column_#2_name&gt;, 'DD/MM' ) AS &lt;alias_#2_name&gt;, 
        to_char( LAST_DAY( SYSDATE ), 'DD/MM' ) AS &lt;alias_#3_name&gt;
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE &lt;column_#4_name&gt; = '&lt;value_#4&gt;' 
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt;, &lt;column_#2_name&gt; 
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE &lt;column_#1_name&gt; = '&lt;value_#1&gt;' 
        AND &lt;column_#2_name&gt; IN ( '&lt;value_#2a&gt;', '&lt;value_#2b&gt;' ) 
        AND &lt;column_#3_name&gt; != '&lt;value_#3&gt;' 
        AND &lt;column_#4_name&gt; NOT IN ( '&lt;value_#4a&gt;', '&lt;value_#4b&gt;' )
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;table_schema&gt;.&lt;table_#1_name&gt;.&lt;column_#1.1_name&gt;, 
        to_char( &lt;table_schema&gt;.&lt;table_#1_name&gt;.&lt;column_#1.2_name&gt;, 'dd/mm, HH24:mi' ), 
        to_char( ( &lt;table_schema&gt;.&lt;table_#1_name&gt;.&lt;column_#1.3_name&gt; - 1 ), 'dd/mm' )
    FROM &lt;table_schema&gt;.&lt;table_#1_name&gt;, &lt;table_schema&gt;.&lt;table_#2_name&gt; 
    WHERE &lt;table_schema&gt;.&lt;table_#1_name&gt;.&lt;column_name&gt; = &lt;table_schema&gt;.&lt;table_#2_name&gt;.&lt;column_name&gt; 
        AND &lt;table_schema&gt;.&lt;table_#2_name&gt;.&lt;column_name&gt; = '&lt;value&gt;' 
        AND &lt;table_schema&gt;.&lt;table_#2_name&gt;.&lt;column_#2.1_name&gt; IN ( '&lt;value_#2.1a&gt;', '&lt;value_#2.1b&gt;' )
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt;,
        to_char( &lt;column_#2_name&gt;, 'dd/mm, HH24:mi' ),
        to_char( &lt;column_#2_name&gt;, 'MONTH', 'NLS_DATE_LANGUAGE = GREEK' ),
        to_char( &lt;column_#3_name&gt;, 'dd/mm/yy HH24:mi' ),
        to_char( ( &lt;column_#4_name&gt; - 1 ), 'dd/mm' ) 
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE &lt;column_#1_name&gt; = '&lt;value_#1&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt;,
        CEIL( ( &lt;column_#2_name&gt; - mod( &lt;column_#2_name&gt;, 60 ) ) / 60 ) || ':' || ( mod( &lt;column_#2_name&gt;, 60 ) ) AS &lt;alias_#2_name&gt;,          
        to_char( &lt;column_#3_name&gt;, 'dd/mm, HH24:mi' ) AS &lt;alias_#3_name&gt;,
        to_char( &lt;column_#4_name&gt;, 'MONTH', 'NLS_DATE_LANGUAGE = GREEK' ) AS &lt;alias_#4_name&gt;,                  
        to_char( last_day( SYSDATE ),'dd/MM' ) AS &lt;alias_#5_name&gt;,         
    FROM &lt;table_schema&gt;.&lt;table_name&gt; a
    WHERE &lt;column_#1_name&gt; IN ( '&lt;value_#1&gt;', '&lt;value_#2&gt;' ) 
</pre> 
<pre class="brush: sql;"> 
SELECT substr( &lt;column_#1_name&gt;, instr( &lt;column_#1_name&gt;, '(') + 1, instr( &lt;column_#1_name&gt;, ')' ) - instr( &lt;column_#1_name&gt;, '(' ) - 1 ) AS &lt;alias_#1_name&gt;
    FROM &lt;table_name&gt;
    WHERE ( ( &lt;column_#1_name&gt; IN ( '&lt;value_#1&gt;', '&lt;value_#2&gt;' ) ) 
            OR ( &lt;column_#1_name&gt; IS NULL 
                AND &lt;column_#2_name&gt; IN ( '&lt;value_#3&gt;', '&lt;value_#4&gt;' ) )
            OR ( &lt;column_#1_name&gt; LIKE '%&lt;value_#5&gt;%' ) 
            OR ( &lt;column_#1_name&gt; LIKE '%&lt;value_#6&gt;%' ) )
        AND ( &lt;column_#3_name&gt; &gt;= to_date( '&lt;value_#5&gt;', 'ddmmyyyy' ) 
        AND &lt;column_#3_name&gt; &lt;= to_date( '&lt;value_#6&gt; 23:59:59', 'ddmmyyyy hh24:mi:ss' ) ) 
    GROUP BY &lt;column_#1_name&gt;, &lt;column_#4_name&gt;
    ORDER BY &lt;column_#1_name&gt;, &lt;column_#4_name&gt; ASC
</pre> 
<pre class="brush: sql;"> 
SELECT a.&lt;column_#1_name&gt; AS &lt;alias_#1_name&gt;, 
        to_char( trunc( a.&lt;column_#2_name&gt; ), 'dd-mm-yyyy' ) AS &lt;alias_#2_name&gt;, 
        count(*) AS &lt;alias_3_name&gt;
    FROM &lt;table_name&gt; a
    WHERE a.&lt;column_#4_name&gt; = '&lt;value_#1&gt;' AND a.&lt;column_#5_name&gt; = '&lt;value_#2&gt;'
    GROUP BY a.&lt;column_#1_name&gt;, trunc( a.&lt;column_#2_name&gt; )  
    ORDER BY trunc( a.&lt;column_#2_name&gt; ) DESC 
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt; 
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE ( ( UPPER( &lt;column_#1_name&gt; ) LIKE '%&lt;value_#1.1&gt;%&lt;value_#1.2&gt;%') OR ( UPPER( &lt;column_#1_name&gt; ) LIKE '%&lt;value_#1.3&gt;%&lt;value_#1.4&gt;%' ) ) 
            AND &lt;column_#2_name&gt; = '&lt;value_#2&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT a.&lt;column_#1_name&gt;, count( * )
    FROM &lt;table_name&gt; a
    WHERE a.&lt;column_#2_name&gt; &gt;= trunc( SYSDATE ) - 7 
        AND a.&lt;column_#2_name&gt; &lt; trunc( SYSDATE ) 
        AND a.&lt;column_#3_name&gt; = '&lt;value_#1&gt;' 
        AND a.&lt;column_#4_name&gt; = '&lt;value_#2&gt;'
    GROUP BY a.&lt;column_#1_name&gt;
</pre> 
<pre class="brush: sql;"> 
SELECT distinct( a.&lt;column_#1_name&gt; )
    FROM &lt;table_name&gt; a
    WHERE a.&lt;column_#2_name&gt; LIKE '&lt;value_#2&gt;%' AND a.&lt;column_#3_name&gt; = '&lt;value_#3&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT DISTINCT( &lt;column_#1_name&gt; ), &lt;column_#2_name&gt; 
    FROM &lt;table_schema&gt;.&lt;table_name&gt; 
    WHERE &lt;column_#3_name&gt; = to_char( SYSDATE, 'DD' ) 
        AND &lt;column_#4_name&gt; &gt;= TRUNC( SYSDATE ) - 1
        AND &lt;column_#2_name&gt; IN ( '&lt;value_#1&gt;', '&lt;value_#2&gt;' )     
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;table_#2_alias&gt;.&lt;column_#1_name&gt; 
    FROM &lt;table_schema&gt;.&lt;table_#1_name&gt; &lt;table_#1_alias&gt;, &lt;table_schema&gt;.&lt;table_#2_name&gt; &lt;table_#2_alias&gt;
    Where &lt;table_#1_alias&gt;.&lt;column_#2_name&gt; = '&lt;value_#1&gt;' 
        AND &lt;table_#1_alias&gt;.&lt;column_#3_name&gt; IN ( '&lt;value_#2&gt;, '&lt;value_#3&gt;' ) 
        AND &lt;table_#1_alias&gt;.&lt;column_#4_name&gt; = &lt;table_#2_alias&gt;.&lt;column_#5_name&gt; 
        AND &lt;table_#1_alias&gt;.&lt;column_#6_name&gt; = '&lt;value_#4&gt;'
</pre> 
<pre class="brush: sql;"> 
SELECT * 
    FROM (
        SELECT &lt;column_#1_name&gt;, &lt;column_#2_name&gt; 
            FROM &lt;table_#1_name&gt; 
            WHERE &lt;column_#3_name&gt; = '&lt;value_#1&gt;'
        UNION all
        SELECT &lt;column_#1_name&gt;, &lt;column_#2_name&gt; 
            FROM &lt;table_#2_name&gt; )
    ORDER BY &lt;column_#1_name&gt; ASC
</pre> 
<pre class="brush: sql;"> 
SELECT &lt;column_#1_name&gt;, 
        decode( &lt;column_#2_name&gt;, '0', '', '1', 'YES' ) AS &lt;alias_#2_name&gt;, 
        '' AS &lt;alias_#3_name&gt;, 
        count( * ) AS &lt;alias_4_name&gt; 
    FROM &lt;table_name&gt;
    WHERE &lt;column_#3_name&gt; IS NULL
    GROUP BY &lt;column_#1_name&gt;, &lt;column_#2_name&gt; 
UNION
SELECT &lt;column_#1_name&gt;, 
        decode( &lt;column_#2_name&gt;, '0', '', '1', 'YES' ) AS &lt;alias_#2_name&gt;, 
        'YES' AS &lt;alias_#3_name&gt;, 
        count( * ) AS &lt;alias_4_name&gt; 
    FROM &lt;table_name&gt;
    WHERE &lt;column_#3_name&gt; IS NOT NULL
    GROUP BY &lt;column_#1_name&gt;, &lt;column_#2_name&gt;
</pre> 
<u><a name="update_table_values">update table values</a></u>
<pre class="brush: sql;"> 
UPDATE &lt;table_name&gt;
    SET &lt;column_#1_name&gt; = '&lt;value_#1_new&gt;'
    WHERE &lt;column_#1_name&gt; = '&lt;value_#1_old&gt;' 
        AND &lt;column_#2_name&gt; = '&lt;value_#2&gt;' 
        AND &lt;column_#3_name&gt; = '&lt;value_#3&gt;' 
</pre> 
<pre class="brush: sql;"> 
UPDATE &lt;table_name&gt; 
    SET &lt;column_#1_name&gt; = NULL 
    WHERE &lt;column_#1_name&gt; IS NOT NULL
</pre> 
<pre class="brush: sql;"> 
UPDATE &lt;table_name&gt; 
    SET &lt;column_#1_name&gt; = '&lt;value_#1&gt;', &lt;column_#2_name&gt; = SYSDATE 
    WHERE &lt;column_#3_name&gt; = '&lt;value_#3&gt;'
</pre> 
<u><a name="insert_table_values">insert table values</a></u>
<pre class="brush: sql;"> 
INSERT INTO &lt;table_schema&gt;.&lt;table_name&gt; ( &lt;column_#1_name&gt;, &lt;column_#2_name&gt;, &lt;column_#3_name&gt;  ) 
    VALUES ( &lt;sequence_name&gt;.nextval, '&lt;value_#2&gt;', to_date( '19052013 00:00:00', 'DDMMYYYY HH24:MI:SS' ) )
</pre> 
<pre class="brush: sql;"> 
INSERT INTO &lt;table_name&gt; 
    VALUES ( '&lt;value_#1&gt;', '&lt;value_#2&gt;' )
</pre> 
<pre class="brush: sql;"> 
INSERT INTO &lt;table_name&gt; 
    VALUES ( '&lt;value_#1&gt;', 'dummy', ' ', TRUNC( SYSDATE ), NULL, '&lt;value_#2&gt;', ' ' )
</pre> 
<pre class="brush: sql;"> 
INSERT INTO &lt;table_name&gt; 
    VALUES ( TRUNC( SYSDATE ), &lt;sequence_name&gt;.NEXTVAL, '&lt;value_#1&gt;', NULL, '1', NULL, SYSDATE, NULL, 538, SYSDATE )
</pre> 
<u><a name="add_table_column">add table column</a></u>
<pre class="brush: sql;"> 
ALTER TABLE &lt;table_name&gt;
    ADD &lt;column_name&gt; varchar2( 60 )
</pre> 
<pre class="brush: sql;"> 
ALTER TABLE &lt;table_name&gt;
    ADD &lt;column_name&gt; DATE  DEFAULT SYSDATE
</pre> 
<u><a name="alter_column_size">alter column size</a></u>
<pre class="brush: sql;"> 
ALTER TABLE &lt;table_name&gt; 
    MODIFY &lt;column_name&gt; VARCHAR2( 320 ) 
</pre> 
<u><a name="alter_table_sequence_cache_size">alter table sequence cache size</a></u>
<pre class="brush: sql;"> 
ALTER SEQUENCE &lt;sequence_name&gt; cache 20
</pre>
<u><a name="delete_table_values">delete table values</a></u>
<pre class="brush: sql;"> 
DELETE FROM &lt;table_name&gt; 
    WHERE &lt;column_name&gt; IS NOT NULL
</pre> 
<pre class="brush: sql;"> 
DELETE FROM &lt;table_name&gt; 
    WHERE &lt;column_#1_name&gt; = '&lt;value_#1&gt;' 
        AND ( trim( &lt;column_#2_name&gt; ) IS NULL OR length( trim( &lt;column_#2_name&gt; ) ) = 0 )
</pre> 
<u><a name="drop_table">drop table</a></u>
<pre class="brush: sql;"> 
DROP TABLE &lt;table_name&gt;
</pre>
<u><a name="drop_table_column">drop table column</a></u>
<pre class="brush: sql;"> 
ALTER TABLE &lt;table_name&gt;
    DROP COLUMN &lt;column_name&gt;
</pre>
<u><a name="drop_index">drop index</a></u>
<pre class="brush: sql;"> 
DROP INDEX &lt;index_name&gt;
</pre>
<u><a name="drop_sequence">drop sequence</a></u>
<pre class="brush: sql;"> 
DROP SEQUENCE &lt;table_schema&gt;.&lt;sequence_name&gt;
</pre>
<u><a name="truncate_table">truncate table</a></u>
<pre class="brush: sql;"> 
TRUNCATE TABLE &lt;table_name&gt;
</pre>
<u><a name="show_db_jobs">show db jobs</a></u>
<pre class="brush: sql;"> 
SELECT * FROM user_jobs
</pre>
<u><a name="execute_PL_SQL_block">pl/sql block execution</a></u>

Execute the following PL/SQL block - stored procedure via the &quot;sqlplus&quot; utility:
<pre class="brush: sql;"> 
SET serveroutput ON
DECLARE 
    &lt;input_parameter_#1_name&gt; varchar2(30) := '&lt;value_#1&gt;';
    &lt;input_parameter_#2_name&gt; varchar2(30) := '&lt;value_#2&gt;';
    &lt;output_parameter_#3_name&gt; number;
    &lt;output_parameter_#4_name&gt; varchar2(30);            
BEGIN
    &lt;table_schema&gt;.&lt;stored_procedure_name&gt;(&lt;input_parameter_#1_name&gt;, &lt;input_parameter_#2_name&gt;,
                                           &lt;output_parameter_#3_name&gt;, &lt;output_parameter_#4_name&gt; );
    DBMS_OUTPUT.PUT_LINE( 'output: ' || &lt;output_parameter_#3_name&gt; );
    DBMS_OUTPUT.PUT_LINE( 'output: ' || &lt;output_parameter_#4_name&gt; );
END;
</pre>
<u><a name="show_long_running_queries">show long-running queries</a></u>
<pre class="brush: sql;"> 
SELECT * FROM 
    ( SELECT username, opname, sid, serial#, context, sofar, totalwork, round( sofar / totalwork * 100, 2 ) "% Complete" 
        FROM v$session_longops ) 
    WHERE "% Complete" != 100
</pre>
<u><a name="SID_of_established_db_session">sid of established db session</a></u>
<pre class="brush: sql;"> 
SELECT distinct( SID ) 
    FROM V$MyStat
</pre>
<u><a name="show_db_sequences">show db sequences</a></u>
<pre class="brush: sql;"> 
SELECT * 
    FROM user_sequences
</pre>
<pre class="brush: sql;"> 
SELECT last_number - increment_by currval 
    FROM user_sequences 
    WHERE SEQUENCE_NAME = '&lt;sequence_name&gt;'
</pre>
<u><a name="TNSNAMES_ORA">tnsnames.ora</a></u>

Network configuration file @ &quot;c:\Oracle\Ora9i\NETWORK\ADMIN\&quot;:
<pre class="brush: text;"> 
&lt;table_#1_schema&gt;.&lt;domain&gt; =
    ( DESCRIPTION =
        ( ADDRESS_LIST =
            ( ADDRESS = ( PROTOCOL = TCP )( HOST = &lt;IP&gt; )( PORT = &lt;port&gt; ) )
        )
        ( CONNECT_DATA =
            ( SERVICE_NAME = &lt;service_name&gt; )
        )
    )
&lt;table_#2_schema&gt;.&lt;domain&gt; =
    ( DESCRIPTION =
        ( ADDRESS_LIST =
            ( ADDRESS = ( PROTOCOL = TCP )( HOST = &lt;IP&gt; )( PORT = &lt;port&gt; ) )
        )
        ( CONNECT_DATA =
            ( SID = &lt;sid&gt; )
        )
    )   
</pre>
<u><a name="connection_without_TNSNAMES_ORA">connection-string configuration</a></u>

Connection without &quot;tnsnames.ora&quot;: 
<pre class="brush: sql;"> 
sqlplus &lt;username&gt;/&lt;password&gt;@"(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=&lt;hostname&gt;)(PORT=&lt;port&gt;))(CONNECT_DATA=(SERVICE_NAME=&lt;service_name&gt;)))"
</pre>
<u><a name="load_data_onto_an_Oracle_Database">load data onto an Oracle Database</a></u>

Making use of &quot;sqlldr&quot; (SQL loader) utility:

•   Assuming that you have saved the data to be uploaded in a file with file name "import.dat" as follows (comma delimited):
<pre class="brush: text;">
    &lt;column_#1.1_value&gt;,&lt;column_#2.1_value&gt;,&lt;column_#3.1_value&gt;
    &lt;column_#1.2_value&gt;,&lt;column_#2.2_value&gt;,&lt;column_#3.2_value&gt;
    &lt;column_#1.3_value&gt;,&lt;column_#2.3_value&gt;,&lt;column_#3.3_value&gt;
    &lt;column_#1.4_value&gt;,&lt;column_#2.4_value&gt;,&lt;column_#3.4_value&gt;
</pre>
•   Prepare a control file "import.ctl" like the following one:
<pre class="brush: sql;">
    LOAD DATA
    INFILE 'import.dat'
    APPEND
    INTO TABLE "&lt;table_name&gt;"
    FIELDS TERMINATED BY ','
    (
        "&lt;column_#1_name&gt;" CHAR,  
        "&lt;column_#2_name&gt;" CHAR,
        "&lt;column_#3_name&gt;" DATE "DD/MM/YYYY"
    )
</pre>
    where 

    + INTO TABLE "&lt;table_name&gt;" defines the target table.<br />
    + FIELDS TERMINATED BY ',' the comma delimited file format.<br />
    + and the following block defines the table column names and format.<br />
    + In practice the rows of the imported data file will be APPENDED at the end of the mentioned db table.<br />

•   Login to the proper server as &lt;user&gt; user and ftp the above import.dat and import.ctl files and save them under the same directory. 

•   execute the following command:
<pre class="brush: text;">
    sqlldr &lt;username&gt;/&lt;password&gt;@&lt;table_schema&gt;.&lt;domain&gt; control = import.ctl log=import.log data=import.dat rows=5000
</pre>
    generally:
<pre class="brush: text;">
    sqlldr &lt;username&gt;/&lt;password&gt;@&lt;table_schema&gt;.&lt;domain&gt; control=&lt;control filename&gt; log=&lt;export log filename&gt; data=&lt;import data filename&gt; rows=&lt;rows before commit&gt;
</pre>
    The script commits automatically and in case where something goes wrong created files consisting of the error happened.<br />
    In any case, it creates a log file consisting of information about the status of the execution, the number of rows inserted, etc.<br /><br />
<u><a name="load_data_onto_an_Oracle_Database_script_for_cdr_upload">load data onto an Oracle Database | script for cdr upload</a></u>

"<i>GitHub</i>" repository of this script can be found at : <a href="https://github.com/aristotelis-metsinis/cdr-import" target="_blank">https://github.com/aristotelis-metsinis/cdr-import</a> (source code along with line by line comments).

Making use of &quot;sqlldr&quot; (SQL loader) utility:

•   Assuming that you have adjusted the following "cdr_import.sh" shell script:
<pre class="brush: bash;">
#!/bin/bash
#
# CDRs import script.
#
# The script imports CDRs produced by a service application. 
# * It may run for example once per day through "cron".
# * Gets all "CDR" files produced on the day before (if any) and 
# * converts them into "iso8859-7" as they (may) contain Greek text in "UTF8". 
# * The converted CDRs are being appended into a single (daily) file. 
# * It also moves each original "CDR" file under the proper "archive" directory.
# * Then it executes "SQL loader" Oracle utility, uploading the data onto the proper db table. 
# * In case where an "Oracle" exception has been thrown, it catches this error, submits the proper 
#   email notification and exits. 
# * Else, it retrieves the number of "successfully loaded" and the number of "total read" records, 
#   verifying whether the two numbers match or not submitting the proper email notification per case.
#

# Set the email of service "admin". Any notification will be sent to this email.
adminEmail=someone@somewhere.com

# Set the necessary db connection configurations.
dbport=&lt;port&gt;
dbsid=&lt;id&gt;
dbpwd=&lt;pwd&gt;
dbuser=&lt;user&gt;
dbname=&lt;name&gt;

# Calculate the date of the day before.
yesterday=`perl \-e '@y=localtime(time()-86400); printf "\%04d\%02d\%02d",$y[5]+1900,$y[4]+1,$y[3];'`

# Set the name "template" of the "CDR" files we are looking for; for example: 
filename=cdr_$yesterday

# Check if there are files for processing, which reside under for example "cdr" directory:
files=`ls cdr/$filename*.cdr | wc -l | sed 's/^[ ]*//g'`

# If no files found then submit the proper email notification and terminate.
if [ $files -eq 0 ] 
then
	subject="No CDRs for $yesterday..."
	message="No CDR files found..."
	(echo "$message") | mailx -s "$subject" $adminEmail

	exit 0
fi

# Get "CDR" files, convert their encoding, appending their data into a single file under the proper path 
# and finally move them into the proper "archive" dir.
for file in $(ls cdr/$filename*.cdr)
do
	iconv -c -f utf8 -t iso8859-7 $file >> cdr/closed/$filename.cdr
	mv $file cdr/archived/
done

# Execute "SQL loader" utility, uploading the "encoded" data file onto the proper db table.
sqlldr $dbuser/$dbpwd@"(DESCRIPTION\=(ADDRESS\=(PROTOCOL\=TCP)(HOST\=$dbname)(PORT\=$dbport))(CONNECT_DATA\=(SERVICE_NAME\=$dbsid)))" control=cdr_import.ctl log=cdr/log/$filename.log bad=cdr/log/$filename.bad data=cdr/closed/$filename.cdr rows=5000

# Check if an "Oracle" exception has been thrown. Submit the proper notification email and terminate.
if grep -q -i "ORA-" cdr/log/$filename.log 
then
	subject="CAUTION: error uploading CDRs for $yesterday..."
	message=`grep -i "ORA-" cdr/log/$filename.log`
    (echo "$message") | mailx -s "$subject" $adminEmail
        
	exit 0
fi

# Get number of "successfully loaded" and "total read CDR" rows.
cdrLoaded=`grep "successfully loaded" cdr/log/$filename.log | sed 's/^[ ]*//g' | cut -f 1 -d " "`
cdrRead=`grep "Total logical records read" cdr/log/$filename.log | cut -d " " -f 5- | cut -f 5- | sed 's/^[ ]*//g'`

# Check if both numbers are equal and submit the proper notification email.
if [ $cdrLoaded != $cdrRead ]
then
	subject="CAUTION: error uploading CDRs for $yesterday..."
	message="Total logical records read : $cdrRead, while successfully loaded : $cdrLoaded"
	(echo "$message") | mailx -s "$subject" $adminEmail
else
	subject="Success: CDRs uploaded for $yesterday..."
	message="Total logical records read and successfully loaded : $cdrLoaded"
	(echo "$message") | mailx -s "$subject" $adminEmail
fi

exit 0 
</pre>
•   and that you have also adjusted the following control file "cdr_import.ctl":
<pre class="brush: sql;">
--
-- "SQL Loader" control file.
--
-- Contains the configuration necessary for "SQL Loader" utility. 
-- Uploads CDRs data on the proper db table for a service application.  
--
LOAD DATA
APPEND
INTO TABLE "&lt;table_name&gt;"
FIELDS TERMINATED BY '|'
TRAILING NULLCOLS
(
  "&lt;column-1&gt;" 	DATE "DDMMYYYY HH24:MI:SS",
  "&lt;column-2&gt;" 	CHAR,  
  "&lt;column-3&gt;" 	CHAR,
  "&lt;column-4&gt;" 	CHAR,
	:
	:
  "&lt;column-n&gt;" 	CHAR
)
</pre>
</span></div>			
					</div>                               
                </td>
  			</tr>	  		
		</table>    	
	</body>
</html>
